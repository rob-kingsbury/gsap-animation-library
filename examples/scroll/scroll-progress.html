<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Progress Indicators | GSAP Animation Library</title>
    <style>
        /* ============================================
           SCROLL PROGRESS INDICATORS
           Various styles of progress indicators that
           update based on scroll position
           ============================================ */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0a;
            color: #f5f5f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        /* Top Progress Bar */
        .progress-bar-top {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(90deg, #c9a227, #e8c547);
            z-index: 1000;
            transform-origin: left;
        }

        /* Side Progress (vertical bar) */
        .progress-bar-side {
            position: fixed;
            top: 50%;
            right: 30px;
            width: 4px;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
            transform: translateY(-50%);
            z-index: 1000;
        }

        .progress-bar-side-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0%;
            background: #c9a227;
            border-radius: 2px;
        }

        /* Circular Progress */
        .progress-circle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            z-index: 1000;
        }

        .progress-circle svg {
            transform: rotate(-90deg);
        }

        .progress-circle-bg {
            fill: none;
            stroke: rgba(255,255,255,0.1);
            stroke-width: 4;
        }

        .progress-circle-fill {
            fill: none;
            stroke: #c9a227;
            stroke-width: 4;
            stroke-linecap: round;
            stroke-dasharray: 157; /* 2 * PI * 25 (radius) */
            stroke-dashoffset: 157;
        }

        .progress-circle-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
            font-weight: 600;
            color: #c9a227;
        }

        /* Section Progress Dots */
        .progress-dots {
            position: fixed;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 1000;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
        }

        .progress-dot::before {
            content: attr(data-label);
            position: absolute;
            left: 25px;
            top: 50%;
            transform: translateY(-50%);
            white-space: nowrap;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .progress-dot:hover::before {
            opacity: 1;
        }

        .progress-dot:hover {
            transform: scale(1.3);
        }

        .progress-dot.is-active {
            background: #c9a227;
            transform: scale(1.2);
        }

        .progress-dot.is-passed {
            background: rgba(201, 162, 39, 0.5);
        }

        /* Page Content */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
        }

        .hero h1 {
            font-size: clamp(2rem, 5vw, 4rem);
            margin-bottom: 1rem;
        }

        .hero h1 span {
            color: #c9a227;
        }

        .hero p {
            font-size: 1.1rem;
            opacity: 0.7;
            max-width: 600px;
        }

        /* Content Sections */
        .section {
            min-height: 100vh;
            padding: 100px 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section:nth-child(even) {
            background: #111;
        }

        .section-content {
            max-width: 800px;
            text-align: center;
        }

        .section-number {
            font-size: 6rem;
            font-weight: 700;
            color: #c9a227;
            opacity: 0.3;
            line-height: 1;
        }

        .section h2 {
            font-size: 2.5rem;
            margin: 1rem 0;
        }

        .section p {
            font-size: 1.1rem;
            opacity: 0.7;
            line-height: 1.8;
        }

        /* Progress type showcase */
        .showcase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            max-width: 1000px;
            margin: 2rem auto;
        }

        .showcase-card {
            background: #1a1a1a;
            border-radius: 16px;
            padding: 2rem;
            text-align: left;
        }

        .showcase-card h3 {
            color: #c9a227;
            margin-bottom: 0.5rem;
        }

        .showcase-card p {
            opacity: 0.7;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Code Reference */
        .code-reference {
            background: #0a0a0a;
            padding: 4rem 2rem;
        }

        .code-reference h2 {
            text-align: center;
            margin-bottom: 2rem;
            color: #c9a227;
        }

        .code-block {
            background: #1a1a1a;
            border-radius: 12px;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto 2rem;
            overflow-x: auto;
        }

        pre {
            font-family: 'Fira Code', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            color: #e0e0e0;
        }

        .comment { color: #6a9955; }
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .function { color: #dcdcaa; }
        .property { color: #9cdcfe; }
        .number { color: #b5cea8; }

        /* Responsive */
        @media (max-width: 768px) {
            .progress-bar-side,
            .progress-dots {
                display: none;
            }

            .progress-circle {
                width: 50px;
                height: 50px;
                right: 15px;
                bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Progress Indicators -->
    <div class="progress-bar-top"></div>

    <div class="progress-bar-side">
        <div class="progress-bar-side-fill"></div>
    </div>

    <div class="progress-circle">
        <svg viewBox="0 0 60 60">
            <circle class="progress-circle-bg" cx="30" cy="30" r="25"></circle>
            <circle class="progress-circle-fill" cx="30" cy="30" r="25"></circle>
        </svg>
        <span class="progress-circle-text">0%</span>
    </div>

    <nav class="progress-dots">
        <div class="progress-dot" data-section="0" data-label="Intro"></div>
        <div class="progress-dot" data-section="1" data-label="Section 1"></div>
        <div class="progress-dot" data-section="2" data-label="Section 2"></div>
        <div class="progress-dot" data-section="3" data-label="Section 3"></div>
        <div class="progress-dot" data-section="4" data-label="Code"></div>
    </nav>

    <!-- Hero -->
    <section class="hero section" id="section-0">
        <div class="section-content">
            <h1>Scroll <span>Progress</span> Indicators</h1>
            <p>Multiple ways to show users their progress through a page. Watch the indicators update as you scroll.</p>

            <div class="showcase-grid">
                <div class="showcase-card">
                    <h3>Top Bar</h3>
                    <p>Classic horizontal progress bar at the top of the viewport. Simple and unobtrusive.</p>
                </div>
                <div class="showcase-card">
                    <h3>Side Bar</h3>
                    <p>Vertical progress indicator on the side. Good for long-form content.</p>
                </div>
                <div class="showcase-card">
                    <h3>Circle</h3>
                    <p>Circular progress with percentage. More visual and engaging.</p>
                </div>
                <div class="showcase-card">
                    <h3>Dots</h3>
                    <p>Section-based navigation dots. Click to jump between sections.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Content Sections -->
    <section class="section" id="section-1">
        <div class="section-content">
            <div class="section-number">01</div>
            <h2>The Psychology of Progress</h2>
            <p>Progress indicators reduce anxiety and uncertainty. When users know how much content remains, they're more likely to continue scrolling. This is especially important for long-form content like articles, case studies, or landing pages.</p>
        </div>
    </section>

    <section class="section" id="section-2">
        <div class="section-content">
            <div class="section-number">02</div>
            <h2>Choose the Right Style</h2>
            <p>Top bars work well for articles. Circular indicators are great for single-page applications. Dot navigation helps users understand the structure of multi-section pages. Consider your content type and user needs when choosing.</p>
        </div>
    </section>

    <section class="section" id="section-3">
        <div class="section-content">
            <div class="section-number">03</div>
            <h2>Performance Matters</h2>
            <p>Use GSAP's ScrollTrigger for smooth, optimized animations. Avoid expensive operations in scroll handlers. The scrub property handles interpolation automatically, giving you buttery-smooth progress indicators without manual calculations.</p>
        </div>
    </section>

    <!-- Code Reference -->
    <section class="code-reference section" id="section-4">
        <div style="max-width: 900px;">
            <h2>Code Reference</h2>

            <div class="code-block">
                <pre><code><span class="comment">// 1. Top Progress Bar</span>
gsap.<span class="function">to</span>(<span class="string">".progress-bar-top"</span>, {
    <span class="property">width</span>: <span class="string">"100%"</span>,
    <span class="property">ease</span>: <span class="string">"none"</span>,
    <span class="property">scrollTrigger</span>: {
        <span class="property">trigger</span>: document.<span class="property">body</span>,
        <span class="property">start</span>: <span class="string">"top top"</span>,
        <span class="property">end</span>: <span class="string">"bottom bottom"</span>,
        <span class="property">scrub</span>: <span class="number">0.3</span>
    }
});</code></pre>
            </div>

            <div class="code-block">
                <pre><code><span class="comment">// 2. Circular Progress with SVG</span>
<span class="keyword">const</span> circumference = <span class="number">2</span> * Math.<span class="property">PI</span> * <span class="number">25</span>;

gsap.<span class="function">to</span>(<span class="string">".progress-circle-fill"</span>, {
    <span class="property">strokeDashoffset</span>: <span class="number">0</span>,
    <span class="property">ease</span>: <span class="string">"none"</span>,
    <span class="property">scrollTrigger</span>: {
        <span class="property">trigger</span>: document.<span class="property">body</span>,
        <span class="property">start</span>: <span class="string">"top top"</span>,
        <span class="property">end</span>: <span class="string">"bottom bottom"</span>,
        <span class="property">scrub</span>: <span class="keyword">true</span>,
        <span class="property">onUpdate</span>: (self) => {
            <span class="comment">// Update percentage text</span>
            <span class="keyword">const</span> percent = Math.<span class="function">round</span>(self.<span class="property">progress</span> * <span class="number">100</span>);
            text.<span class="property">textContent</span> = percent + <span class="string">"%"</span>;
        }
    }
});</code></pre>
            </div>

            <div class="code-block">
                <pre><code><span class="comment">// 3. Section-based Dot Navigation</span>
sections.<span class="function">forEach</span>((section, i) => {
    ScrollTrigger.<span class="function">create</span>({
        <span class="property">trigger</span>: section,
        <span class="property">start</span>: <span class="string">"top center"</span>,
        <span class="property">end</span>: <span class="string">"bottom center"</span>,
        <span class="property">onEnter</span>: () => <span class="function">setActiveDot</span>(i),
        <span class="property">onEnterBack</span>: () => <span class="function">setActiveDot</span>(i)
    });
});

<span class="comment">// Click to scroll to section</span>
dots.<span class="function">forEach</span>(dot => {
    dot.<span class="function">addEventListener</span>(<span class="string">'click'</span>, () => {
        <span class="keyword">const</span> target = sections[dot.dataset.<span class="property">section</span>];
        gsap.<span class="function">to</span>(window, {
            <span class="property">scrollTo</span>: target,
            <span class="property">duration</span>: <span class="number">1</span>,
            <span class="property">ease</span>: <span class="string">"power2.inOut"</span>
        });
    });
});</code></pre>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

        // =====================
        // 1. TOP PROGRESS BAR
        // =====================
        gsap.to(".progress-bar-top", {
            width: "100%",
            ease: "none",
            scrollTrigger: {
                trigger: document.body,
                start: "top top",
                end: "bottom bottom",
                scrub: 0.3
            }
        });

        // =====================
        // 2. SIDE PROGRESS BAR
        // =====================
        gsap.to(".progress-bar-side-fill", {
            height: "100%",
            ease: "none",
            scrollTrigger: {
                trigger: document.body,
                start: "top top",
                end: "bottom bottom",
                scrub: true
            }
        });

        // =====================
        // 3. CIRCULAR PROGRESS
        // =====================
        const circleText = document.querySelector('.progress-circle-text');
        const circumference = 2 * Math.PI * 25; // Circle radius is 25

        gsap.to(".progress-circle-fill", {
            strokeDashoffset: 0,
            ease: "none",
            scrollTrigger: {
                trigger: document.body,
                start: "top top",
                end: "bottom bottom",
                scrub: true,
                onUpdate: (self) => {
                    const percent = Math.round(self.progress * 100);
                    circleText.textContent = percent + "%";
                }
            }
        });

        // =====================
        // 4. DOT NAVIGATION
        // =====================
        const sections = document.querySelectorAll('.section');
        const dots = document.querySelectorAll('.progress-dot');

        function setActiveDot(index) {
            dots.forEach((dot, i) => {
                dot.classList.remove('is-active', 'is-passed');
                if (i === index) {
                    dot.classList.add('is-active');
                } else if (i < index) {
                    dot.classList.add('is-passed');
                }
            });
        }

        // Create ScrollTrigger for each section
        sections.forEach((section, i) => {
            ScrollTrigger.create({
                trigger: section,
                start: "top center",
                end: "bottom center",
                onEnter: () => setActiveDot(i),
                onEnterBack: () => setActiveDot(i)
            });
        });

        // Click dots to scroll to section
        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                const sectionIndex = parseInt(dot.dataset.section);
                const targetSection = sections[sectionIndex];

                gsap.to(window, {
                    scrollTo: {
                        y: targetSection,
                        offsetY: 100
                    },
                    duration: 1,
                    ease: "power2.inOut"
                });
            });
        });

        // Initialize first dot as active
        setActiveDot(0);

        // =====================
        // SECTION ANIMATIONS
        // =====================
        gsap.utils.toArray('.section-content').forEach(content => {
            gsap.from(content.children, {
                y: 50,
                opacity: 0,
                stagger: 0.1,
                scrollTrigger: {
                    trigger: content,
                    start: "top 70%",
                    end: "top 40%",
                    scrub: 1
                }
            });
        });
    </script>
</body>
</html>
